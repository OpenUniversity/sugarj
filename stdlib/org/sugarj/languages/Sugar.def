definition
module org/sugarj/languages/Sugar
imports org/sugarj/languages/Sdf2
        org/sugarj/languages/Stratego
exports
  context-free syntax
    Grammar -> SugarDefElem {cons("grammar-elem")}
    Transformation -> SugarDefElem {cons("transformation-elem")}

  context-free syntax
    Sdf2Grammar -> Grammar

  context-free syntax
    StrategoDecl -> Transformation

  context-free syntax
    "desugarings" Desugaring* -> Transformation {cons("Desugarings")}
    "analyses" Analysis* -> Transformation {cons("Analyses")}

  context-free syntax
    StrategoStrategy -> Desugaring {cons("PureDesugaring")}
    StrategoStrategy ":" Sdf2Symbol "->" Sdf2Symbol Sdf2Attributes -> Desugaring {cons("InjectDesugaring")}
    StrategoStrategy -> Analysis {longest-match}

  lexical syntax
    "desugarings" -> StrategoKeyword
    "analyses" -> StrategoKeyword

  lexical restrictions
    "desugarings" -/- [a-zA-Z0-9\'\-\_]
    "analyses" -/- [a-zA-Z0-9\'\-\_]
    
  lexical syntax
    "sorts" -> StrategoId {reject}
    "lexical" -> StrategoId {reject}
    "context-free" -> StrategoId {reject}
    "variables" -> StrategoId {reject}
    "priorities" -> StrategoId {reject}
    "restrictions" -> StrategoId {reject}
    "aliases" -> StrategoId {reject}
